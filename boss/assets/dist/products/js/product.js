var Product={data:{},init:function(){App.init(),TableList.init({object:"#JdataPanel",tableConfig:{bSort:!1,bPaginate:!1,searching:!1,bFilter:!1,bInfo:!1},filter:".Jfilter"}),$(".dataTables_wrapper").find(".row-fluid").remove(),this.bind()},bind:function(){var t=this;$(document).on("change","#JcategoryParent",function(){t.updateChildCategory()})},postData:function(t){try{$.ajax({url:t.url||"",data:t.data,type:t.type||"get",dataType:"json",beforeSend:function(){},success:function(a){t.callback(a)},error:function(t){},complete:function(t){}})}catch(t){console.error(t)}},updateChildOption:function(t){if(null==t)return void console.log("未查询到对应的二级类目");try{var a=t.categorys;if(a){for(var o="",e=0;e<a.length;e++){var n=a[e];o+="<option value="+n.id+">"+n.name+"</option>"}$("#JcategoryChild").append(o)}}catch(t){console.error(t)}},updateChildCategory:function(){var t=this,a=$("#JcategoryParent").val();$("#JcategoryChild option:gt(0)").remove(),$("#JcategoryChild option:first").trigger("change"),0!=a&&t.postData({url:"/category/GetChildsByParentId",data:{categoryId:a},callback:t.updateChildOption})}};$(function(){Product.init()});