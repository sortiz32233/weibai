var News={init:function(){this.bind(),this.initWangEditor()},initWangEditor:function(){var t=this;t.wangEditor=new wangEditor("JeditorDes"),t.wangEditor.config.uploadImgUrl="/upload/index?action=edimage",t.wangEditor.config.uploadImgFileName="upfile",t.wangEditor.create()},bind:function(){var t=this;$(document).on("click","#newsSubmit",function(){t.postNewsData()})},postData:function(t){try{$.ajax({url:t.url||"",data:t.data,type:t.type||"get",dataType:"json",beforeSend:function(){},success:function(n){t.callback(n)},error:function(t){},complete:function(t){}})}catch(t){console.error(t)}},postNewsData:function(){var t=this;$newsForm=$("#newsForm"),t.postData({url:"/cms/action",type:"post",data:$newsForm.serialize(),callback:function(t){"success"==t.status?Modal.alert({id:"Jalert",content:t.msg,type:"success",callback:function(){window.location.href="/cms/news"}}):Modal.alert({id:"Jalert",content:t.msg,type:"error",callback:function(){}})}})}};$(function(){News.init()});