var About={wangEditor:null,init:function(){this.bind(),this.intWangEditor()},intWangEditor:function(){var t=this;t.wangEditor=new wangEditor("editor-trigger-about"),t.wangEditor.config.uploadImgUrl="/upload/index?action=edimage",t.wangEditor.config.uploadImgFileName="upfile",t.wangEditor.create()},bind:function(){var t=this;$(document).on("click","#cancelEdit",function(){t.resetForm()}).on("click","#saveEdit",function(){t.saveEditFormData()})},postData:function(t){try{$.ajax({url:t.url||"",data:t.data,type:t.type||"get",dataType:"json",beforeSend:function(){},success:function(n){null!=t.callback&&t.callback(n)},error:function(t){},complete:function(t){}})}catch(t){console.error(t)}},saveEditFormData:function(){var t=this,n=$("#cmsId").val(),a=t.wangEditor.$txt.html(),o="/cms/add?content="+a;n>0&&(o="/cms/update?content="+a),t.postData({url:o,data:$("#Jnewform").serialize(),type:"post",callback:function(t){"success"==t.status?Modal.alert({id:"Jalert",content:"操作成功！",type:"success",callback:function(){window.location.reload()}}):Modal.alert({id:"Jalert",type:"error",content:"操作失败，请稍后重试！",callback:function(){}})}})},refreshTable:function(t){null==t?alert("操作失败"):alert("操作成功"),window.location.reload()},resetForm:function(){this.wangEditor.$txt.html("<p><br></p>")}};$(function(){About.init()});