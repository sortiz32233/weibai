var Tech={wangEditor:null,init:function(){this.bind(),$("#brandForm").hide()},bind:function(){var t=this;$(document).on("click","#editCms",function(){t.showEditForm($(this).data("id"))}).on("click","#cancelEdit",function(){$("#brandForm").hide()}).on("click","#saveEdit",function(){t.saveEditFormData()}).on("click","#deleteCms",function(){$("#Jdelete").data("id",$(this).data("id"))}).on("click","#addNews",function(){t.showAddForm()}).on("click","#Jdelete",function(){t.deleteOne($(this).data("id"))})},postData:function(t){try{$.ajax({url:t.url||"",data:t.data,type:t.type||"get",dataType:"json",beforeSend:function(){},success:function(a){null!=t.callback&&t.callback(a)},error:function(t){},complete:function(t){}})}catch(t){console.error(t)}},showEditForm:function(t){var a=this,e={cmsId:t},n={url:"/cms/GetOneById",data:e,callback:a.setEditFormData};a.postData(n)},setEditFormData:function(t){null!=t&&($("#cmsId").val(t.id),$("#cmsTitle").val(t.title),$("#cmsDes").val(t.des),$("#cmsUrl").val(t.hyperlink),$("#brandForm").show())},saveEditFormData:function(){var t=this,a=$("#cmsId").val(),e="/cms/add";a>0&&(e="/cms/update"),t.postData({url:e,data:$("#Jform").serialize(),callback:t.refreshTable})},refreshTable:function(t){null==t?alert("操作失败"):alert("操作成功"),window.location.reload()},deleteOne:function(t){var a={cmsId:t},e={url:"/cms/delete",data:a};this.postData(e),window.location.reload()},showAddForm:function(){$("#brandForm").show(),$(":input","#brandForm").not(":button, :submit, :reset, :hidden").val("").removeAttr("checked").removeAttr("selected")}};$(function(){Tech.init()});