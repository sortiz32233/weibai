var Cms={wangEditor:null,init:function(){this.bind(),$("#cmsForm").hide()},intWangEditor:function(){var t=this;t.wangEditor=new wangEditor("editor-trigger"),t.wangEditor.config.uploadImgUrl="/upload/index?action=edimage",t.wangEditor.config.uploadImgFileName="upfile",t.wangEditor.create()},bind:function(){var t=this;$(document).on("click",".Jedit",function(){t.showEditForm($(this).data("id"))}).on("click",".Jdelete",function(){var n=$(this);Modal.confirm({id:"Jmodal",content:"确定要删除该条记录？",callback:function(){App.blockUI($("#Jmodal")),t.deleteOne(n.data("id"))}})})},postData:function(t){try{$.ajax({url:t.url||"",data:t.data,type:t.type||"get",dataType:"json",beforeSend:function(){},success:function(n){null!=t.callback&&t.callback(n)},error:function(t){},complete:function(t){}})}catch(t){console.error(t)}},deleteOne:function(t){this.postData({url:"/cms/delete",data:{cmsId:t,json:1},callback:function(t){App.unblockUI($("#Jmodal")),"success"==t.status?Modal.alert({id:"Jalert",content:"删除成功！",type:"success",callback:function(){window.location.reload()}}):Modal.alert({id:"Jalert",type:"error",content:t.msg,callback:function(){}})}})}};$(function(){Cms.init()});